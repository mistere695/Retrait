<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Inscription XM Trading</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* Reset & base */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height:100%; width:100%; font-family:'Roboto',sans-serif; }
    body {
      display:flex; flex-direction:column;
      background:linear-gradient(135deg,#1e3c72,#2a5298);
      color:#333;
    }
    header, footer {
      background:#000; color:#fff; text-align:center;
      padding:1rem; font-weight:700; letter-spacing:1px;
    }
    main {
      flex:1; display:flex; align-items:center; justify-content:center;
      padding:1rem;
    }
    .card {
      position:relative;
      background:rgba(255,255,255,0.95);
      border-radius:16px; box-shadow:0 15px 35px rgba(0,0,0,0.15);
      width:100%; max-width:480px; padding:2.5rem;
      overflow:hidden; animation:fadeIn 0.8s ease-out;
    }
    h2 { text-align:center; margin-bottom:2rem; color:#1e3c72; font-size:1.8rem; }
    /* Notification */
    .notification {
      height:2rem; margin-bottom:1.5rem;
      overflow:hidden; text-align:center;
      color:#1e3c72; font-weight:500; font-size:0.95rem;
    }
    .notification p {
      position:absolute; width:100%;
      transform: translateY(100%);
      animation:slide-in 0.6s forwards;
    }
    @keyframes slide-in {
      from { transform: translateY(100%); }
      to   { transform: translateY(0); }
    }
    @keyframes fadeIn {
      from { opacity:0; transform:translateY(20px); }
      to   { opacity:1; transform:translateY(0); }
    }
    label { display:block; margin-top:1.2rem; font-weight:500; font-size:0.95rem; }
    input, select, button {
      width:100%; padding:0.85rem 1rem; margin-top:0.3rem;
      border:1px solid #ddd; border-radius:8px;
      font-size:1rem; transition:all 0.3s ease;
    }
    input:focus, select:focus {
      border-color:#1e3c72; box-shadow:0 0 0 4px rgba(30,60,114,0.15);
      outline:none;
    }
    .phone-group { display:flex; gap:0.5rem; }
    .dial-code {
      flex:0 0 5rem; text-align:center; background:#f5f5f5;
      border-right:none; border-top-right-radius:0; border-bottom-right-radius:0;
    }
    .phone-group input[type="tel"] {
      flex:1; border-top-left-radius:0; border-bottom-left-radius:0;
    }
    button {
      background:linear-gradient(135deg,#1e3c72,#2a5298);
      color:#fff; border:none; margin-top:1.8rem;
      cursor:pointer; font-weight:600; text-transform:uppercase;
      letter-spacing:1px; box-shadow:0 8px 20px rgba(30,60,114,0.3);
      transition:transform 0.2s;
    }
    button:hover { transform:translateY(-2px); }
    /* F√©licitations */
    #thankyou {
      display:none; padding:2rem 1rem; animation:fadeIn 0.6s ease-out;
      text-align:center;
    }
    #thankyou h2 {
      display:inline-block; text-align:left;
      font-family:'Archivo Black',sans-serif;
      color:#1e3c72; margin-bottom:1rem; font-size:1.6rem;
    }
    #thankyou p {
      display:inline-block; text-align:left;
      line-height:1.5; font-size:1rem;
    }
    footer { font-size:0.9rem; }
    @media(max-width:600px) {
      .card {
        border-radius:0; height:100%; max-width:none;
        padding:2rem 1.5rem; box-shadow:none;
      }
      h2 { font-size:1.6rem; }
      button { font-size:0.95rem; }
    }
  </style>
</head>
<body>
  <header>XM Trading ‚Äî Inscription</header>

  <main>
    <div class="card">
      <!-- Notification -->
      <div class="notification" id="notif"></div>

      <h2 id="form-title">Inscription XM Trading</h2>

      <form id="registration-form">
        <label for="nom">Nom</label>
        <input type="text" id="nom" required>

        <label for="prenom">Pr√©nom</label>
        <input type="text" id="prenom" required>

        <label for="sexe">Sexe</label>
        <select id="sexe" required>
          <option value="" disabled selected>Choisissez votre sexe</option>
          <option value="Homme">Homme</option>
          <option value="Femme">Femme</option>
          <option value="Autre">Autre</option>
        </select>

        <label for="pays">Pays</label>
        <select id="pays" required>
          <option value="" disabled selected>Choisissez votre pays</option>
          <!-- ... listes de pays ... -->
        </select>

        <label>T√©l√©phone</label>
        <div class="phone-group">
          <input type="text" id="dial-code" class="dial-code" readonly>
          <input type="tel" id="phone" required>
        </div>

        <label for="montant">Montant √† investir</label>
        <input type="number" id="montant" step="0.01" required>

        <label for="devise">Devise</label>
        <select id="devise" required>
          <option value="" disabled selected>Choisissez une devise</option>
          <!-- ... devises ... -->
        </select>

        <label for="age">√Çge</label>
        <input type="number" id="age" min="18" required>

        <label for="metier">M√©tier</label>
        <input type="text" id="metier" required>

        <button type="submit">Valider l‚Äôinscription</button>
      </form>

      <div id="thankyou">
        <h2><span id="thx-title"></span> <span id="thx-nom"></span> !</h2>
        <p>
          Vous avez √©t√© enregistr√© avec succ√®s chez XM Trading pour un investissement de
          <strong><span id="thx-montant"></span> <span id="thx-devise"></span></strong>.<br>
          Contactez votre administrateur sur WhatsApp pour effectuer votre d√©p√¥t.<br>
          Une fois le d√©p√¥t effectu√©, le traitement prendra jusqu‚Äô√† <strong>2 heures</strong>.
        </p>
      </div>
    </div>
  </main>

  <footer>¬© 2025 XM Trading. Tous droits r√©serv√©s.</footer>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
    // 1) Auto-indicatif & longueur
    const countryInfo = {
      /* m√™me mapping que pr√©c√©demment */
    };
    const paysEl = document.getElementById('pays'),
          dialEl = document.getElementById('dial-code'),
          phoneEl = document.getElementById('phone');
    paysEl.addEventListener('change', () => {
      const info = countryInfo[paysEl.value] || ["", 15];
      dialEl.value = info[0];
      phoneEl.maxLength = info[1];
    });

    // 2) Notifications
    const names = ["Jean","Yann","Am√©lie","Fatou","Omar","Luc","Nadia","Sophie","Koffi","Mariama"];
    let pool = [...names];
    function getMessage() {
      if (!pool.length) pool = [...names];
      const name = pool.splice(Math.random()*pool.length|0,1)[0];
      const isUSD = Math.random()<0.5;
      const amount = isUSD ? (100 + Math.random()*900|0) : (10000 + Math.random()*490000|0);
      return `üéâ ${name} vient de retirer ${amount}${isUSD?'$':' fcfa'}`;
    }
    const notif = document.getElementById('notif');
    function showNotif() {
      notif.textContent = '';
      const p = document.createElement('p');
      p.textContent = getMessage();
      notif.appendChild(p);
    }
    showNotif(); setInterval(showNotif, 4000);

    // 3) Formulaire & f√©licitations
    const form = document.getElementById('registration-form'),
          params = new URLSearchParams(location.search);
    if (params.get('success')==='true') {
      form.style.display = 'none';
      document.getElementById('form-title').style.display = 'none';
      document.getElementById('thankyou').style.display = 'block';
      // r√©cup√©ration
      const nom = localStorage.getItem('nom')||'';
      const montant = localStorage.getItem('montant')||'';
      const devise = localStorage.getItem('devise')||'';
      const sexe = localStorage.getItem('sexe')||'Homme';
      const title = (sexe==='Femme'?'F√©licitations Madame':'F√©licitations Monsieur');
      document.getElementById('thx-title').innerText = title;
      document.getElementById('thx-nom').innerText = nom;
      document.getElementById('thx-montant').innerText = montant;
      document.getElementById('thx-devise').innerText = devise;
    } else {
      form.addEventListener('submit', e=>{
        e.preventDefault();
        // stockage
        localStorage.setItem('nom', document.getElementById('nom').value);
        localStorage.setItem('montant', document.getElementById('montant').value);
        localStorage.setItem('devise', document.getElementById('devise').value);
        localStorage.setItem('sexe', document.getElementById('sexe').value);
        // redirection
        location.href = `${location.pathname}?success=true`;
      });
    }
  });
  </script>
</body>
</html>