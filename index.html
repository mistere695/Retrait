<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Inscription XM Trading</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* (M√™me CSS que pr√©c√©demment) */
  </style>
</head>
<body>
  <header>XM Trading ‚Äî Inscription</header>
  <main>
    <div class="card">
      <div class="notification" id="notif"></div>
      <h2 id="form-title">Inscription XM Trading</h2>
      <form id="registration-form">
        <label for="nom">Nom</label>
        <input type="text" id="nom" required>

        <label for="prenom">Pr√©nom</label>
        <input type="text" id="prenom" required>

        <label for="sexe">Sexe</label>
        <select id="sexe" required>
          <option value="" disabled selected>Choisissez votre sexe</option>
          <option value="Homme">Homme</option>
          <option value="Femme">Femme</option>
          <option value="Autre">Autre</option>
        </select>

        <label for="pays">Pays</label>
        <select id="pays" required>
          <option value="" disabled selected>Choisissez votre pays</option>
          <optgroup label="Afrique de l'Ouest">
            <option value="B√©nin">B√©nin</option><option value="Burkina Faso">Burkina Faso</option>
            <option value="Cap-Vert">Cap‚ÄëVert</option><option value="C√¥te d'Ivoire">C√¥te d'Ivoire</option>
            <option value="Gambie">Gambie</option><option value="Ghana">Ghana</option>
            <option value="Guin√©e">Guin√©e</option><option value="Guin√©e-Bissau">Guin√©e-Bissau</option>
            <option value="Lib√©ria">Lib√©ria</option><option value="Mali">Mali</option>
            <option value="Mauritanie">Mauritanie</option><option value="Niger">Niger</option>
            <option value="Nig√©ria">Nig√©ria</option><option value="S√©n√©gal">S√©n√©gal</option>
            <option value="Sierra Leone">Sierra Leone</option><option value="Togo">Togo</option>
          </optgroup>
          <optgroup label="Afrique centrale">
            <option value="Cameroun">Cameroun</option><option value="Centrafrique">Centrafrique</option>
            <option value="Tchad">Tchad</option><option value="Congo">Congo</option>
            <option value="RDC">RDC</option><option value="Guin√©e √©quatoriale">Guin√©e √©quatoriale</option>
            <option value="Gabon">Gabon</option><option value="Sao Tom√©-et-Principe">Sao Tom√©-et-Principe</option>
          </optgroup>
          <optgroup label="Autres">
            <option value="Ha√Øti">Ha√Øti</option><option value="Madagascar">Madagascar</option>
            <option value="France">France</option><option value="√âtats-Unis">√âtats‚ÄëUnis</option>
          </optgroup>
        </select>

        <label>T√©l√©phone</label>
        <div class="phone-group">
          <input type="text" id="dial-code" class="dial-code" readonly>
          <input type="tel" id="phone" required>
        </div>

        <label for="montant">Montant √† investir</label>
        <input type="number" id="montant" step="0.01" required>

        <label for="devise">Devise</label>
        <select id="devise" required>
          <option value="" disabled selected>Choisissez une devise</option>
          <option value="USD">$ Dollar (USD)</option>
          <option value="EUR">‚Ç¨ Euro (EUR)</option>
          <option value="XOF">FCFA (XOF)</option>
          <option value="XAF">Franc Congo (XAF)</option>
          <option value="HTG">Gourde (HTG)</option>
          <option value="MGA">Ariary (MGA)</option>
        </select>

        <label for="age">√Çge</label>
        <input type="number" id="age" min="18" required>

        <label for="metier">M√©tier</label>
        <input type="text" id="metier" required>

        <button type="submit">Valider l‚Äôinscription</button>
      </form>

      <div id="thankyou">
        <h2><span id="thx-title"></span> <span id="thx-nom"></span> !</h2>
        <p>
          Vous avez √©t√© enregistr√© avec succ√®s chez XM Trading pour un investissement de
          <strong><span id="thx-montant"></span> <span id="thx-devise"></span></strong>.<br>
          Contactez votre administrateur sur WhatsApp pour effectuer votre d√©p√¥t.<br>
          Une fois le d√©p√¥t effectu√©, le traitement prendra jusqu‚Äô√† <strong>2 heures</strong>.
        </p>
      </div>
    </div>
  </main>

  <footer>¬© 2025 XM Trading. Tous droits r√©serv√©s.</footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const countryInfo = {
        "B√©nin": ["+229",8], "Burkina Faso": ["+226",8], "Cap-Vert": ["+238",7],
        "C√¥te d'Ivoire": ["+225",8], "Gambie": ["+220",7], "Ghana": ["+233",9],
        "Guin√©e": ["+224",9], "Guin√©e-Bissau": ["+245",7], "Lib√©ria": ["+231",7],
        "Mali": ["+223",8], "Mauritanie": ["+222",8], "Niger": ["+227",8],
        "Nig√©ria": ["+234",10], "S√©n√©gal": ["+221",9], "Sierra Leone": ["+232",8],
        "Togo": ["+228",8], "Cameroun": ["+237",9], "Centrafrique": ["+236",8],
        "Tchad": ["+235",8], "Congo": ["+242",9], "RDC": ["+243",9],
        "Guin√©e √©quatoriale": ["+240",9], "Gabon": ["+241",9],
        "Sao Tom√©-et-Principe": ["+239",7], "Ha√Øti": ["+509",8],
        "Madagascar": ["+261",10], "France": ["+33",9], "√âtats‚ÄëUnis": ["+1",10]
      };
      const paysEl = document.getElementById('pays'),
            dialEl = document.getElementById('dial-code'),
            phoneEl = document.getElementById('phone');
      paysEl.addEventListener('change', () => {
        const [indicatif, len] = countryInfo[paysEl.value] || ["", 15];
        dialEl.value = indicatif;
        phoneEl.maxLength = len;
      });

      // Notification bubble (inchang√©)
      const names = ["Jean","Yann","Am√©lie","Fatou","Omar","Luc","Nadia","Sophie","Koffi","Mariama"];
      let pool = [...names];
      function getMessage() {
        if (!pool.length) pool = [...names];
        const name = pool.splice(Math.random()*pool.length|0,1)[0];
        const isUSD = Math.random()<0.5;
        const amount = isUSD ? (100 + Math.random()*900|0) : (10000 + Math.random()*490000|0);
        return `üéâ ${name} vient de retirer ${amount}${isUSD?'$':'‚ÄØfcfa'}`;
      }
      const notif = document.getElementById('notif');
      function showNotif() {
        notif.textContent = '';
        const p = document.createElement('p');
        p.textContent = getMessage();
        notif.appendChild(p);
      }
      showNotif();
      setInterval(showNotif, 4000);

      // Form submit + f√©licitations (inchang√©)
      const form = document.getElementById('registration-form'),
            params = new URLSearchParams(location.search);
      if (params.get('success')==='true') {
        form.style.display = 'none';
        document.getElementById('form-title').style.display = 'none';
        document.getElementById('thankyou').style.display = 'block';

        const nom = localStorage.getItem('nom')||'';
        const montant = localStorage.getItem('montant')||'';
        const devise = localStorage.getItem('devise')||'';
        const sexe = localStorage.getItem('sexe')||'Homme';
        const title = (sexe === 'Femme' ? 'F√©licitations Madame' : 'F√©licitations Monsieur');
        document.getElementById('thx-title').innerText = title;
        document.getElementById('thx-nom').innerText = nom;
        document.getElementById('thx-montant').innerText = montant;
        document.getElementById('thx-devise').innerText = devise;
      } else {
        form.addEventListener('submit', e => {
          e.preventDefault();
          localStorage.setItem('nom', document.getElementById('nom').value);
          localStorage.setItem('montant', document.getElementById('montant').value);
          localStorage.setItem('devise', document.getElementById('devise').value);
          localStorage.setItem('sexe', document.getElementById('sexe').value);
          location.href = `${location.pathname}?success=true`;
        });
      }
    });
  </script>
</body>
</html>